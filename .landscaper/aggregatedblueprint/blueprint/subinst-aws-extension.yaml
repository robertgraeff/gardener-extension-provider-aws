subinstallations:
- apiVersion: landscaper.gardener.cloud/v1alpha1
  kind: InstallationTemplate

  name: aws-extension

  blueprint:
    ref: cd://resources/aws-extension-blueprint

  imports:
    targets:
      - name: cluster
        target: cluster

    data:
      - name: parentCloudProfile
        dataRef: cloudProfile

      - name: siblingMachineImages
        dataRef: machineImages

      - name: kubernetesVersions
        list: kubernetesVersions

      - name: controllerRegistration
        list: controllerRegistration

    {{- if .imports.lssComponentDescriptor }}
    componentDescriptors:
      - name: lssComponentDescriptor
        list: lssComponentDescriptor
    {{- end }}

  importDataMappings:
    cloudProfile:
      machineImages: (( siblingMachineImages ))
      regions: (( parentCloudProfile.regions ))

